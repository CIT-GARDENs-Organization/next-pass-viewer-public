# コントリビューションガイド

このプロジェクトに関心を持っていただきありがとうございます。公開リポジトリとして安心してメンテナンスできるよう、以下の方針でのご協力をお願いします。

## 開発環境のセットアップ

1. リポジトリをクローンします。
2. `npm install` で依存関係をインストールします (`npm ci` も利用可能です)。
3. Supabase を利用する場合は `.env.local` を作成し、`env.local.example` を参考に環境変数を設定してください。Supabase を使わない場合は README に記載のローカル計算モードが利用できます。
4. 開発サーバーは `npm run dev`、本番ビルドは `npm run build && npm start` で起動します。

## コーディング規約

- TypeScript / React / Next.js (App Router) を採用しています。型安全性を保つため、可能な限り型定義を追加してください。
- `.editorconfig` と ESLint の設定に準拠し、`npm run lint` および `npm run test` が通る状態でプルリクエストを作成してください。
- UI 変更時は必要に応じてスクリーンショット等を添付してください。
- 大きな機能追加では、仕様や画面遷移図などの補足資料を `docs/` 以下に追加することを検討してください。

## ブランチとコミット

- main / public ブランチは常にデプロイ可能な状態を保ってください。
- 機能追加は `feature/xxxx`、バグ修正は `fix/xxxx` などのわかりやすいブランチ名を推奨します。
- コミットメッセージは英語または日本語で簡潔にまとめ、必要に応じてプレフィックス（例: `fix:`, `feat:`）を利用してください。

## テスト

- サーバー / API ロジックの変更時は `lib/` 配下のユニットテストを追加・更新してください。
- ~~CI が `npm run lint`, `npm run test`, `npm run build` を実行するため、ローカルでも同じ手順を踏んでからプルリクエストを送信してください。~~
  - 妥協
    - `npm build`が通ればOKとする

## Issue / PR の作成

- バグ報告・機能提案は用意された Issue テンプレートをご利用ください。
- プルリクエストでは、概要・テスト内容・関連 Issue を記載してください。テンプレートに沿って記入するとレビューがスムーズになります。

何か不明点があれば Issue でお気軽にご相談ください。
皆様のご協力をお待ちしております！
